import{a as p,s as L}from"./alert-DLWxqPIg.js";function y(o={}){const{selector:r="form[data-confirm]",defaultTitle:l="Confirmação",defaultText:d="Deseja realmente excluir este item?",confirmButtonText:u="Sim, excluir",cancelButtonText:m="Cancelar",canceledMessage:f="Ação cancelada.",canceledIcon:b="info",canceledTimer:v=1200}=o;document.querySelectorAll(r).forEach(e=>{if(e.dataset.__confirmInit)return;e.dataset.__confirmInit="1";const s=async c=>{c.preventDefault(),c.stopPropagation();const t=e.querySelector('button[type="submit"]'),n=t==null?void 0:t.querySelector(".btn-text"),a=t==null?void 0:t.querySelector(".spinner-border"),x=e.dataset.confirmTitle||l,T=e.dataset.confirmText||d;if(await p(x,T,u,m)){t&&n&&a&&(t.disabled=!0,n.classList.add("d-none"),a.classList.remove("d-none")),e.removeEventListener("submit",s);const i=new Event("submit",{cancelable:!1,bubbles:!0});i.__fromConfirm=!0,e.dispatchEvent(i),e.submit()}else{t&&n&&a&&(t.disabled=!1,n.classList.remove("d-none"),a.classList.add("d-none"));try{L(b,e.dataset.confirmCanceledText||f,v)}catch{}}};e.addEventListener("submit",s)})}document.addEventListener("DOMContentLoaded",()=>{y()});
