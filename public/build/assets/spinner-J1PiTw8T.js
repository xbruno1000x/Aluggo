function p(i={}){const{selector:t="form[data-spinner]",buttonSelector:o='button[type="submit"]',textClass:s="btn-text",spinnerClass:r="spinner-border",preventMultipleSubmits:c=!0}=i;document.querySelectorAll(t).forEach(n=>{if(n.dataset.__spinnerInit)return;n.dataset.__spinnerInit="1";const l=n.dataset.spinnerButton;let e=null;if(l?e=document.getElementById(l):e=n.querySelector(o),!e)return;const d=e.querySelector(`.${s}`),u=e.querySelector(`.${r}`);if(!d||!u){console.warn("[FormSpinner] Botão deve conter elementos com classes:",s,r);return}const b=m=>{if(c&&e.disabled){m.preventDefault();return}e.disabled=!0,d.classList.add("d-none"),u.classList.remove("d-none");const a=parseInt(n.dataset.spinnerTimeout||"0",10);a>0&&setTimeout(()=>{e.disabled=!1,d.classList.remove("d-none"),u.classList.add("d-none")},a)};n.addEventListener("submit",b)})}function f(i){const t=document.getElementById(i);if(!t)return;const o=t.querySelector(".btn-text"),s=t.querySelector(".spinner-border");if(!o||!s){console.warn("[FormSpinner] Botão deve conter .btn-text e .spinner-border");return}const r=t.closest("form");r&&r.addEventListener("submit",()=>{t.disabled=!0,o.classList.add("d-none"),s.classList.remove("d-none")})}export{f as e,p as i};
