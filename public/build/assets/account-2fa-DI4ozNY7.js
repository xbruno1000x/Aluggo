document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("btn-copy-secret"),o=document.getElementById("tf-secret"),r=document.getElementById("btn-open-qr");e&&o&&e.addEventListener("click",function(){navigator.clipboard.writeText(o.value).then(()=>{const t=e.textContent||"Copiar";e.textContent="Copiado",setTimeout(()=>e.textContent=t,1500)}).catch(()=>alert("Não foi possível copiar o segredo."))}),r&&r.addEventListener("click",function(){const t=document.querySelector(".d-inline-block");if(!t)return alert("QR code não encontrado na página.");const n=t.querySelector("img");if(n&&n.src){window.open(n.src,"_blank");return}const i=t.querySelector("svg");if(i){const c=new XMLSerializer().serializeToString(i),a=new Blob([c],{type:"image/svg+xml"}),s=URL.createObjectURL(a);window.open(s,"_blank");return}alert("Não foi possível abrir o QR em nova aba.")})});
