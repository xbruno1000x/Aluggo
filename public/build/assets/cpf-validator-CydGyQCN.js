function c(i){const e=i.replace(/[^\d]/g,"");if(e.length!==11||/^(\d)\1{10}$/.test(e))return!1;let t=0;for(let n=0;n<9;n++)t+=parseInt(e.charAt(n))*(10-n);let a=t%11;const r=a<2?0:11-a;if(parseInt(e.charAt(9))!==r)return!1;t=0;for(let n=0;n<10;n++)t+=parseInt(e.charAt(n))*(11-n);a=t%11;const l=a<2?0:11-a;return parseInt(e.charAt(10))===l}function d(i){const e=i.replace(/[^\d]/g,"");return e.length<=3?e:e.length<=6?`${e.slice(0,3)}.${e.slice(3)}`:e.length<=9?`${e.slice(0,3)}.${e.slice(3,6)}.${e.slice(6)}`:`${e.slice(0,3)}.${e.slice(3,6)}.${e.slice(6,9)}-${e.slice(9,11)}`}function o(){document.querySelectorAll("[data-cpf-input]").forEach(i=>{i.addEventListener("input",e=>{const t=e.target,a=t.selectionStart||0,l=t.value.length;t.value=d(t.value);const s=t.value.length-l;t.setSelectionRange(a+s,a+s)}),i.addEventListener("blur",e=>{var r,l;const t=e.target,a=t.value.replace(/[^\d]/g,"");if(t.classList.remove("is-valid","is-invalid"),a.length>0){const n=(r=t.parentElement)==null?void 0:r.querySelector(".invalid-feedback");if(c(t.value))t.classList.add("is-valid");else if(t.classList.add("is-invalid"),n)n.textContent="CPF inválido.";else{const s=document.createElement("div");s.className="invalid-feedback",s.textContent="CPF inválido.",(l=t.parentElement)==null||l.appendChild(s)}}}),i.addEventListener("invalid",e=>{e.preventDefault();const t=e.target;t.value?c(t.value)?t.setCustomValidity(""):t.setCustomValidity("CPF inválido."):t.setCustomValidity("O campo CPF é obrigatório.")}),i.addEventListener("input",e=>{e.target.setCustomValidity("")})})}document.addEventListener("DOMContentLoaded",()=>{o()});
