function b(u={}){const{selector:l="form[data-spinner]",buttonSelector:c='button[type="submit"]',textClass:r="btn-text",spinnerClass:i="spinner-border",preventMultipleSubmits:m=!0}=u;document.querySelectorAll(l).forEach(t=>{if(t.dataset.__spinnerInit)return;t.dataset.__spinnerInit="1";const o=t.dataset.spinnerButton;let e=null;if(o?e=document.getElementById(o):e=t.querySelector(c),!e)return;const n=e.querySelector(`.${r}`),s=e.querySelector(`.${i}`);if(!n||!s){console.warn("[FormSpinner] BotÃ£o deve conter elementos com classes:",r,i);return}const p=a=>{if(t.hasAttribute("data-confirm")&&!a.__fromConfirm)return;if(m&&e.disabled){a.preventDefault();return}e.disabled=!0,n.classList.add("d-none"),s.classList.remove("d-none");const d=parseInt(t.dataset.spinnerTimeout||"0",10);d>0&&setTimeout(()=>{e.disabled=!1,n.classList.remove("d-none"),s.classList.add("d-none")},d)};t.addEventListener("submit",p)})}document.addEventListener("DOMContentLoaded",()=>{b()});
